const data = [
    {
        id: 'JgYgHtmO7_VI8GxT6OY4aA',
        alias: 'golden-lotus-newtown',
        name: 'Golden Lotus',
        image_url:
            'https://s3-media1.fl.yelpcdn.com/bphoto/Rti3oc2ssepZR_6pQOEIRw/o.jpg',
        is_closed: false,
        url:
            'https://www.yelp.com/biz/golden-lotus-newtown?adjust_creative=PqKG3amP2YVZ63Ihfsd7YQ&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=PqKG3amP2YVZ63Ihfsd7YQ',
        review_count: 11,
        categories: [
            {
                alias: 'vietnamese',
                title: 'Vietnamese',
            },
            {
                alias: 'vegan',
                title: 'Vegan',
            },
            {
                alias: 'vegetarian',
                title: 'Vegetarian',
            },
        ],
        rating: 4.0,
        coordinates: {
            latitude: -33.89843,
            longitude: 151.17825,
        },
        transactions: [],
        location: {
            address1: '343 King St',
            address2: '',
            address3: '',
            city: 'Newtown',
            zip_code: '2042',
            country: 'AU',
            state: 'NSW',
            display_address: [
                '343 King St',
                'Newtown New South Wales 2042',
                'Australia',
            ],
        },
        phone: '+61289372838',
        display_phone: '+61 2 8937 2838',
        distance: 3321.802662610821,
    },
    {
        id: 'K9IC7kzsUPDh1Ui2aWsQqA',
        alias: 'ibaa-tea-house-chatswood',
        name: 'IBAA Tea House',
        image_url:
            'https://s3-media1.fl.yelpcdn.com/bphoto/UsJMY1BCxlZUs614ONTlfg/o.jpg',
        is_closed: false,
        url:
            'https://www.yelp.com/biz/ibaa-tea-house-chatswood?adjust_creative=PqKG3amP2YVZ63Ihfsd7YQ&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=PqKG3amP2YVZ63Ihfsd7YQ',
        review_count: 3,
        categories: [
            {
                alias: 'chinese',
                title: 'Chinese',
            },
            {
                alias: 'vegan',
                title: 'Vegan',
            },
        ],
        rating: 5.0,
        coordinates: {
            latitude: -33.7964096,
            longitude: 151.1843567,
        },
        transactions: [],
        price: '$',
        location: {
            address1: 'Westfield Shopping Town',
            address2: '4 Spring St',
            address3: '',
            city: 'Chatswood',
            zip_code: '2067',
            country: 'AU',
            state: 'NSW',
            display_address: [
                'Westfield Shopping Town',
                '4 Spring St',
                'Chatswood New South Wales 2067',
                'Australia',
            ],
        },
        phone: '+61294100387',
        display_phone: '+61 2 9410 0387',
        distance: 8632.677189879341,
    },
    {
        id: 'FkQSIxD0LszHLjirS2u8Ig',
        alias: 'vina-vegan-newtown',
        name: 'Vina Vegan',
        image_url:
            'https://s3-media3.fl.yelpcdn.com/bphoto/IjG7ht98xNxoOWKC-938UQ/o.jpg',
        is_closed: false,
        url:
            'https://www.yelp.com/biz/vina-vegan-newtown?adjust_creative=PqKG3amP2YVZ63Ihfsd7YQ&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=PqKG3amP2YVZ63Ihfsd7YQ',
        review_count: 5,
        categories: [
            {
                alias: 'vegan',
                title: 'Vegan',
            },
        ],
        rating: 4.0,
        coordinates: {
            latitude: -33.899727,
            longitude: 151.177809,
        },
        transactions: [],
        location: {
            address1: '395 King St',
            address2: '',
            address3: '',
            city: 'Newtown',
            zip_code: '2042',
            country: 'AU',
            state: 'NSW',
            display_address: [
                '395 King St',
                'Newtown New South Wales 2042',
                'Australia',
            ],
        },
        phone: '+61295570456',
        display_phone: '+61 2 9557 0456',
        distance: 3465.5167946162023,
    },
    {
        id: 'DOtnm1W5DVsjuc0Y96U4Pg',
        alias: 'iku-wholefood-sydney-3',
        name: 'Iku Wholefood',
        image_url:
            'https://s3-media4.fl.yelpcdn.com/bphoto/cLGeyE_HDb0YknfHfghcOw/o.jpg',
        is_closed: false,
        url:
            'https://www.yelp.com/biz/iku-wholefood-sydney-3?adjust_creative=PqKG3amP2YVZ63Ihfsd7YQ&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=PqKG3amP2YVZ63Ihfsd7YQ',
        review_count: 4,
        categories: [
            {
                alias: 'vegan',
                title: 'Vegan',
            },
            {
                alias: 'vegetarian',
                title: 'Vegetarian',
            },
            {
                alias: 'healthmarkets',
                title: 'Health Markets',
            },
        ],
        rating: 4.5,
        coordinates: {
            latitude: -33.868689807058,
            longitude: 151.209259059007,
        },
        transactions: [],
        location: {
            address1: 'Shop 6, Food Court, MLC Centre',
            address2: '19A Martin Place',
            address3: null,
            city: 'Sydney',
            zip_code: '2000',
            country: 'AU',
            state: 'NSW',
            display_address: [
                'Shop 6, Food Court, MLC Centre',
                '19A Martin Place',
                'Sydney New South Wales 2000',
                'Australia',
            ],
        },
        phone: '+61292338001',
        display_phone: '+61 2 9233 8001',
        distance: 1188.1057199654686,
    },
    {
        id: 'Barh8mPZVFCC9GrBlXu3CQ',
        alias: 'orchard-st-paddington',
        name: 'Orchard St',
        image_url:
            'https://s3-media3.fl.yelpcdn.com/bphoto/VWQP8toD4z5vyQgDYi-7pQ/o.jpg',
        is_closed: false,
        url:
            'https://www.yelp.com/biz/orchard-st-paddington?adjust_creative=PqKG3amP2YVZ63Ihfsd7YQ&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=PqKG3amP2YVZ63Ihfsd7YQ',
        review_count: 2,
        categories: [
            {
                alias: 'vegan',
                title: 'Vegan',
            },
            {
                alias: 'vegetarian',
                title: 'Vegetarian',
            },
            {
                alias: 'juicebars',
                title: 'Juice Bars & Smoothies',
            },
        ],
        rating: 5.0,
        coordinates: {
            latitude: -33.8835521188845,
            longitude: 151.222544945776,
        },
        transactions: [],
        location: {
            address1: '4 Glenmore Rd',
            address2: '',
            address3: '',
            city: 'Paddington',
            zip_code: '2021',
            country: 'AU',
            state: 'NSW',
            display_address: [
                '4 Glenmore Rd',
                'Paddington New South Wales 2021',
                'Australia',
            ],
        },
        phone: '+61293802772',
        display_phone: '+61 2 9380 2772',
        distance: 2569.751156190046,
    },
    {
        id: 'aayh3hMZNiDL3xYEtkv19g',
        alias: 'herb-n-sprout-co-cafe-maroubra',
        name: 'Herb n Sprout co cafe',
        image_url:
            'https://s3-media2.fl.yelpcdn.com/bphoto/urW4OEf32tCaCCPmS9HiJQ/o.jpg',
        is_closed: false,
        url:
            'https://www.yelp.com/biz/herb-n-sprout-co-cafe-maroubra?adjust_creative=PqKG3amP2YVZ63Ihfsd7YQ&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=PqKG3amP2YVZ63Ihfsd7YQ',
        review_count: 4,
        categories: [
            {
                alias: 'vegetarian',
                title: 'Vegetarian',
            },
            {
                alias: 'vegan',
                title: 'Vegan',
            },
            {
                alias: 'breakfast_brunch',
                title: 'Breakfast & Brunch',
            },
        ],
        rating: 3.0,
        coordinates: {
            latitude: -33.9429415102267,
            longitude: 151.247508190831,
        },
        transactions: [],
        price: '$$',
        location: {
            address1: '331 Maroubra Rd',
            address2: '',
            address3: '',
            city: 'Maroubra',
            zip_code: '2035',
            country: 'AU',
            state: 'NSW',
            display_address: [
                '331 Maroubra Rd',
                'Maroubra New South Wales 2035',
                'Australia',
            ],
        },
        phone: '+61283472808',
        display_phone: '+61 2 8347 2808',
        distance: 9013.053949484158,
    },
];

const listVegan = () => {
    document.getElementById('outlist').innerHTML = '';
    document.getElementById('veganlist').innerHTML = 'List of Vegan Restaurants are: ';
    ul = document.getElementById('outlist');

    Object.keys(data).sort((a, b) => data[b].rating - data[a].rating).forEach((x) => {
        const lt = document.createElement('li');
        lt.textContent = `${data[x].name} with rating of ${data[x].rating} stars`;
        ul.appendChild(lt);
    });
};

function detailVegan() {
    const name = document.getElementById('dtlist').value;
    document.getElementById('vegandata').innerHTML = '';

    let veganName; let veganAdd; let
        veganPhone; let veganCount; let veganPrice; let imageVegan;
    const veganCat = [];

    Object.keys(data).forEach((x) => {
        if (data[x].name.toLowerCase() === name.toLowerCase()) {
            veganName = data[x].name;
            veganAdd = data[x].location.display_address;
            veganPhone = data[x].display_phone;
            veganPrice = data[x].price || '--';
            veganCount = data[x].rating;
            imageVegan = data[x].image_url;

            data[x].categories.forEach((w) => {
                veganCat.push(w.title);
            });
        }
    });

    if (!veganName) {
        document.getElementById('vegandetail').innerHTML = 'Restaurant Not Found!';
        document.getElementById('veganimg').style.display = 'none';
    } else {
        const x = document.querySelector('img');
        x.style.display = 'block';
        x.setAttribute('src', imageVegan);
        x.setAttribute('width', '250');
        x.setAttribute('height', 'auto');
        x.setAttribute('alt', veganName);
        document.getElementById('vegandetail').innerHTML = `${veganName} <br>`;
        document.getElementById('vegandata').innerHTML = `
        <u>Address</u> : <br> ${veganAdd.join('<br>')} <br><br>
        Phone : ${veganPhone} <br>
        Rating : ${'⭐️'.repeat(veganCount)} <br>
        Price : ${veganPrice} <br>
        Categories : ${veganCat.join(' / ')} <br>
        `;
    }
}
